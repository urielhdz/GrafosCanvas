function Nodo(e){this.v=e;Kinetic.Circle.call(this);this.frontera=new Array;this.aleatorio=function(e,t){numPosibilidades=t-e;aleat=Math.random()*numPosibilidades;aleat=Math.floor(aleat);return parseInt(e)+aleat};this.setX((this.v+1)*this.aleatorio(40,90));this.setY((this.v+1)*this.aleatorio(40,70));if(this.getX()>940||this.getY()>390){this.setX(940/2);this.setY(410/2)}this.t=new Kinetic.Text({text:e+"",fontFamily:"Arial",fill:"red",x:this.getX(),y:this.getY()});this.setRadius(15);this.setFill("rgba(250,250,250,0.8)");this.setStroke("rgba(50,50,50,0.8)");this.setDraggable(true);this.mover=function(){this.t.setX(this.getX()+12);this.t.setY(this.getY()+12)}}function Grafo(e,t){this.S=t;this.N=e;this.A=0;this.ar=new Array;this.frontera=new Array;this.L=new Kinetic.Layer;if(e<0){alert("El número de vértices debe ser positivo");return}for(var n=0;n<e;n++){var r=new Nodo(n);this.frontera[n]=r;this.ar.push(r);this.L.add(r);this.L.add(r.t)}this.S.add(this.L);this.redibujar=function(){for(var e=0;e<this.ar.length;e++){this.ar[e].mover()}this.S.draw()};this.agregarVertice=function(e){if(this.frontera[e]){alert("El vértice ya existe");return}var t=new Nodo(e);this.frontera[e]=t;this.ar.push(t);this.L.add(t);this.L.add(t.t)};this.agregarArista=function(e,t){if(!(this.frontera[e]instanceof Nodo&&this.frontera[t]instanceof Nodo)){alert("Error en los parametros enviados");return}this.A++;this.frontera[e].frontera.push(t);this.frontera[t].frontera.push(e);var n=new Arista(this.frontera[e],this.frontera[t]);this.ar.push(n);this.L.add(n);this.S.draw()};this.obtenerVecinos=function(e){if(this.frontera[e]){alert("No existe ese vértice");return}return this.frontera[e].frontera};this.aString=function(){var e="";var t="\n";e+=this.N+" vertices, "+this.A+" aristas."+t;for(var n=0;n<this.N;n++){e+=n+" : ";var r=this.frontera[n].frontera;for(var i=0;i<r.length;i++){e+=r[i]+" "}e+=t}return e}}function Arista(e,t){Kinetic.Line.call(this);this.n=e;this.n2=t;this.setStroke("gray");console.log(this.n);this.setPoints([[this.n.getX(),this.n.getY()],[this.n2.getX(),this.n2.getY()]]);setInterval(this.m,10);this.mover=function(){this.setPoints([[this.n.getX(),this.n.getY()],[this.n2.getX(),this.n2.getY()]])}}function init(){s=new Kinetic.Stage({container:"container",width:960,height:400});g=new Grafo(5,s);g.agregarArista(1,3);g.agregarArista(1,2);g.agregarArista(1,4);g.agregarArista(1,0);var e=document.getElementById("a_a");e.addEventListener("click",function(){var e=document.getElementById("a").value;var t=document.getElementById("a2").value;if(e.length<1||t.length<1){alert("Llena los campos primero");return}g.agregarArista(parseInt(e),parseInt(t))});var e=document.getElementById("a_v");e.addEventListener("click",function(){var e=document.getElementById("vertice").value;if(e.length<1){alert("Llena el campo vertice primero");return}g.agregarVertice(parseInt(e))});setInterval(function(){g.redibujar()},32)}function include(e){var t=window.document.createElement("script");t.setAttribute("src",e);window.document.body.appendChild(t)}Nodo.prototype=Object.create(Kinetic.Circle.prototype);Arista.prototype=Object.create(Kinetic.Line.prototype);var g;window.addEventListener("load",init);var s,l